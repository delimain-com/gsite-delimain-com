import{a as ne,c as f,e as ae,f as k}from"./chunk-QOPUWJ4Y.js";import{a as ie}from"./chunk-ENT527JW.js";import{a as ue}from"./chunk-2PMXO643.js";import{d as Y,i as x,t as ee,w as te,x as C}from"./chunk-G7T3ZPIR.js";import{Aa as y,Ba as h,Hb as p,K as E,Kb as I,Lb as b,Ob as w,Pb as J,Q as B,Qb as u,R as F,Rb as v,Va as j,Wb as _,_ as g,_a as $,da as s,f as he,fb as Q,hb as c,j as P,jb as S,jc as X,kb as V,ma as A,na as M,pa as d,qa as T,qb as m,rb as K,sb as U,t as O,ub as W,vb as q,wb as Z,xb as N,ya as R,yb as z,yc as D,za as L,zb as G}from"./chunk-SHRHIQVS.js";var fe=["ngbNavOutlet",""],ge=i=>({$implicit:i});function me(i,r){}function pe(i,r){if(i&1&&(z(0,"div",0),V(1,me,0,0,"ng-template",1),G()),i&2){let e=b().$implicit,n=b();N("item",e)("nav",n.nav)("role",n.paneRole),j(),N("ngTemplateOutlet",(e.contentTpl==null?null:e.contentTpl.templateRef)||null)("ngTemplateOutletContext",X(5,ge,e.active||n.isPanelTransitioning(e)))}}function be(i,r){if(i&1&&K(0,pe,2,7,"div",0),i&2){let e=r.$implicit,n=b();U(e.isPanelInDom()||n.isPanelTransitioning(e)?0:-1)}}var _e=(()=>{class i{constructor(){this._ngbConfig=s(ne),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),se=i=>f(i)&&i!=="",ye=0,Ne=(()=>{class i{constructor(){this.templateRef=s($)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=c({type:i,selectors:[["ng-template","ngbNavContent",""]]})}}return i})();var re=(()=>{class i{constructor(){this._nav=s(de),this._nativeElement=s(h).nativeElement,this.disabled=!1,this.shown=new d,this.hidden=new d}ngOnInit(){f(this.domId)||(this.domId=`ngb-nav-${ye++}`)}get active(){return this._nav.activeId===this.id}get id(){return se(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(f(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=c({type:i,selectors:[["","ngbNavItem",""]],contentQueries:function(n,t,o){if(n&1&&w(o,Ne,4),n&2){let a;u(a=v())&&(t.contentTpl=a.first)}},hostAttrs:[1,"nav-item"],inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]})}}return i})(),de=(()=>{class i{constructor(e){this.role=e,this._config=s(_e),this._cd=s(D),this._document=s(A),this._nativeElement=s(h).nativeElement,this.destroyRef=s(M),this._navigatingWithKeyboard=!1,this.activeIdChange=new d,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new d,this.hidden=new d,this.navItemChange$=new P,this.navChange=new d}click(e){e.disabled||this._updateActiveId(e.id)}onFocusout({relatedTarget:e}){this._nativeElement.contains(e)||(this._navigatingWithKeyboard=!1)}onKeyDown(e){if(this.roles!=="tablist"||!this.keyboard)return;let n=this.links.filter(a=>!a.navItem.disabled),{length:t}=n,o=-1;if(n.forEach((a,l)=>{a.nativeElement===this._document.activeElement&&(o=l)}),t){switch(e.key){case"ArrowUp":case"ArrowLeft":o=(o-1+t)%t;break;case"ArrowRight":case"ArrowDown":o=(o+1)%t;break;case"Home":o=0;break;case"End":o=t-1;break}this.keyboard==="changeWithArrows"&&this.select(n[o].navItem.id),n[o].nativeElement.focus(),this._navigatingWithKeyboard=!0,e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!f(this.activeId)){let e=this.items.first?this.items.first.id:null;se(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}this.items.changes.pipe(C(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:e}){e&&!e.firstChange&&this._notifyItemChanged(e.currentValue)}_updateActiveId(e,n=!0){if(this.activeId!==e){let t=!1;n&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{t=!0}}),t||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}_notifyItemChanged(e){this.navItemChange$.next(this._getItemById(e))}_getItemById(e){return this.items&&this.items.find(n=>n.id===e)||null}static{this.\u0275fac=function(n){return new(n||i)(y("role"))}}static{this.\u0275dir=c({type:i,selectors:[["","ngbNav",""]],contentQueries:function(n,t,o){if(n&1&&w(o,re,4)(o,ce,5),n&2){let a;u(a=v())&&(t.items=a),u(a=v())&&(t.links=a)}},hostAttrs:[1,"nav"],hostVars:4,hostBindings:function(n,t){n&1&&I("keydown.arrowLeft",function(a){return t.onKeyDown(a)})("keydown.arrowRight",function(a){return t.onKeyDown(a)})("keydown.arrowDown",function(a){return t.onKeyDown(a)})("keydown.arrowUp",function(a){return t.onKeyDown(a)})("keydown.Home",function(a){return t.onKeyDown(a)})("keydown.End",function(a){return t.onKeyDown(a)})("focusout",function(a){return t.onFocusout(a)}),n&2&&(m("aria-orientation",t.orientation==="vertical"&&t.roles==="tablist"?"vertical":void 0)("role",t.role?t.role:t.roles?"tablist":void 0),_("flex-column",t.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[R]})}}return i})(),ce=(()=>{class i{constructor(e){this.role=e,this.navItem=s(re),this.nav=s(de),this.nativeElement=s(h).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}static{this.\u0275fac=function(n){return new(n||i)(y("role"))}}static{this.\u0275dir=c({type:i,selectors:[["","ngbNavLink",""]],hostAttrs:[1,"nav-link"],hostVars:12,hostBindings:function(n,t){n&2&&(p("id",t.navItem.domId),m("role",t.role?t.role:t.nav.roles?"tab":void 0)("tabindex",t.tabindex)("aria-controls",t.navItem.isPanelInDom()?t.navItem.panelDomId:null)("aria-selected",t.navItem.active)("aria-disabled",t.navItem.disabled),_("nav-item",t.navItem.isNgContainer())("active",t.navItem.active)("disabled",t.navItem.disabled))}})}}return i})(),qe=(()=>{class i extends ce{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=L(i)))(t||i)}})()}static{this.\u0275dir=c({type:i,selectors:[["button","ngbNavLink",""]],hostAttrs:["type","button"],hostVars:1,hostBindings:function(n,t){n&1&&I("click",function(){return t.nav.click(t.navItem)}),n&2&&p("disabled",t.navItem.disabled)},features:[S]})}}return i})();var Ie=({classList:i})=>(i.remove("show"),()=>i.remove("active")),we=(i,r)=>{r&&ae(i),i.classList.add("show")},oe=(()=>{class i{constructor(){this.nativeElement=s(h).nativeElement}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=c({type:i,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(n,t){n&2&&(p("id",t.item.panelDomId),m("role",t.role?t.role:t.nav.roles?"tabpanel":void 0)("aria-labelledby",t.item.domId),_("fade",t.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}})}}return i})(),Ze=(()=>{class i{constructor(){this._cd=s(D),this._ngZone=s(T),this._activePane=null}isPanelTransitioning(e){return this._activePane?.item===e}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(C(this.nav.destroyRef),F(this._activePane?.item||null),E(),B(1)).subscribe(e=>{let n={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?k(this._ngZone,this._activePane.nativeElement,Ie,n).subscribe(()=>{let t=this._activePane?.item;this._activePane=this._getPaneForItem(e),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),k(this._ngZone,this._activePane.nativeElement,we,n).subscribe(()=>{e&&(e.shown.emit(),this.nav.shown.emit(e.id))})),t&&(t.hidden.emit(),this.nav.hidden.emit(t.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show","active")}_getPaneForItem(e){return this._panes&&this._panes.find(n=>n.item===e)||null}_getActivePane(){return this._panes&&this._panes.find(e=>e.item.active)||null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=Q({type:i,selectors:[["","ngbNavOutlet",""]],viewQuery:function(n,t){if(n&1&&J(oe,5),n&2){let o;u(o=v())&&(t._panes=o)}},hostAttrs:[1,"tab-content"],inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},attrs:fe,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,t){n&1&&q(0,be,1,1,null,null,W),n&2&&Z(t.nav.items)},dependencies:[oe,Y],encapsulation:2,changeDetection:0})}}return i})();var H=he(ue());var le=class i{siteInfo=s(ie);session=s(te);$domain=this.siteInfo.$domain;$session=this.session.$session;apiEndpoint=ee.napi.endpoint;http=s(x);constructor(){}ext(r){return r==="image/jpeg"||r==="image/jpg"?".jpg":r==="image/png"?".png":r==="image/gif"?".gif":r==="image/webp"?".webp":""}upload(r={}){let e=r.file,n=r.path,t=new FormData;{let a=this.$domain(),l=this.$session()||{};t.append("data.site.domain",a),t.append("auth.sid",H.default.get(l,"auth.sid")),t.append("auth.isLogin",H.default.get(l,"auth.isLogin")),t.append("path",n),t.append("file",e)}let o=`${this.apiEndpoint}/api/cdn/upload`;return this.http.post(o,t,{}).pipe(O(a=>({results:a.results||{}})))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})};export{Ne as a,re as b,de as c,qe as d,Ze as e,le as f};
