import{a as ft}from"./chunk-LMMROSXR.js";import{a as ut}from"./chunk-JWWC5HI3.js";import{a as gt,b as _t,c as Ct,d as ht,e as bt,f as xt,j as yt,k as E}from"./chunk-KVF2PDD6.js";import{a as dt}from"./chunk-RQHXG7CL.js";import{f as ot,i as nt,j as at,k as rt,m as pt,n as st,o as lt,p as mt,q as U,r as ct,s as k,t as S,u as A,w as V}from"./chunk-YICIKOJU.js";import{$ as r,Bb as w,Db as v,Eb as s,H as C,Nb as tt,Oa as K,Ob as c,Ra as l,S as u,Sb as I,Tb as F,Ub as j,Vb as et,W as Q,Wb as O,Xb as B,Yb as it,ac as q,bb as x,fa as h,ga as b,ja as $,nb as g,ob as _,pa as J,pb as X,qa as f,rb as Y,s as P,sb as Z,tb as D,ub as a,vb as p,wb as m}from"./chunk-DLU3COSW.js";var vt=[{path:"",children:[{path:"",loadComponent:()=>import("./chunk-LULASNEJ.js")},{path:"home",loadComponent:()=>import("./chunk-LULASNEJ.js")},{path:"siteList",loadComponent:()=>import("./chunk-XDJ47CEB.js")},{path:"castList",loadComponent:()=>import("./chunk-REW6HU47.js")},{path:"castEdit",loadComponent:()=>import("./chunk-NEBQXUQZ.js")},{path:"castAdd",loadComponent:()=>import("./chunk-6RC6AHF7.js")},{path:"castScheduleDatetimeList",loadComponent:()=>import("./chunk-HRLLZXUH.js")},{path:"infoList",loadComponent:()=>import("./chunk-FTGN5BIO.js")},{path:"infoEdit",loadComponent:()=>import("./chunk-P3PBO4XG.js")},{path:"infoAdd",loadComponent:()=>import("./chunk-DKMDSIE2.js")}]}];var wt={providers:[J(),st(vt,mt(),lt({onSameUrlNavigation:"reload"}))]};var y=class e{session=r(k);$session=this.session.$session;api=r(V);login(i={}){return this.api.post("fn/auth/login",i,{ignore_auth:!0}).pipe(u(({results:t})=>{let o=t.auth||{};this.$session.set({auth:o})}))}check(){let{auth:i}=this.$session()||{},t={auth:i};return this.api.post("fn/auth/check",t,{ignore_auth:!0}).pipe(u(({results:o})=>{let n=o.auth||{};this.$session.set({auth:n})}))}logout(){let{auth:i}=this.$session(),t={auth:i};return this.$session.set(null),this.api.post("fn/auth/logout",t,{ignore_auth:!0})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"})};function Lt(e,i){if(e&1){let t=w();a(0,"div",0)(1,"div",1),m(2,"img",2)(3,"p",3),a(4,"form",4)(5,"div",5)(6,"input",6),j("ngModelChange",function(n){h(t);let d=s();return F(d.id,n)||(d.id=n),b(n)}),p()(),a(7,"div",5)(8,"input",7),j("ngModelChange",function(n){h(t);let d=s();return F(d.password,n)||(d.password=n),b(n)}),p()(),a(9,"div",8)(10,"button",9),v("click",function(){h(t);let n=s();return b(n.action_login())}),c(11," \u30ED\u30B0\u30A4\u30F3 "),p()()()(),a(12,"div",10)(13,"p",11),c(14,"\xA9 2026"),p()()()}if(e&2){let t=s();l(2),tt("fa-spin",t.$isWait()),l(4),I("ngModel",t.id),l(2),I("ngModel",t.password)}}function Mt(e,i){e&1&&(a(0,"div"),c(1,"loading..."),p())}var L=class e{$isReady=f(!1);$isWait=f(!1);id=U.id;password=U.password;api=r(V);auth=r(y);constructor(){this.$isReady.set(!0)}action_login(){let i={id:this.id,password:this.password};this.$isWait.set(!0),this.auth.login(i).pipe(C(1)).pipe(u(()=>this.$isWait.set(!1))).subscribe()}action_test(){this.api.post("fn/siteInfo/load_siteList").pipe(C(1)).subscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-login"]],decls:2,vars:1,consts:[[1,"container"],[1,"card","card-container"],["id","profile-img","src","//ssl.gstatic.com/accounts/ui/avatar_2x.png",1,"profile-img","img-circle","rounded-circle"],["id","profile-name",1,"profile-name-card"],["novalidate","",1,"form-signin","mb10"],[1,"form-group","my-2"],["type","text","name","id","placeholder","ID","required","","autofocus","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","\u30D1\u30B9\u30EF\u30FC\u30C9","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"my-2"],[1,"btn","btn-lg","btn-primary","btn-block","w-100",3,"click"],[1,"text-center"],[1,"mt-5","mb-3","text-muted"]],template:function(t,o){t&1&&g(0,Lt,15,4,"div",0)(1,Mt,2,0,"div"),t&2&&_(o.$isReady()?0:1)},dependencies:[E,xt,gt,_t,Ct,yt,bt,ht],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}.card[_ngcontent-%COMP%]{max-width:350px;padding:40px;background-color:#f7f7f7;margin:50px auto 0;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-moz-box-shadow:0px 2px 2px rgba(0,0,0,.3);-webkit-box-shadow:0px 2px 2px rgba(0,0,0,.3);box-shadow:0 2px 2px #0000004d}.profile-img[_ngcontent-%COMP%]{width:40%;height:auto;margin:0 auto;display:block}.mb10[_ngcontent-%COMP%]{margin:0 0 10px}"]})};function G(e,i={}){return ct(G,i?.injector,()=>{let t=r(nt),o=t.snapshot.params,{parse:n,defaultValue:d}=i;if(!e)return A(t.params,{initialValue:o});if(typeof e=="function")return A(t.params.pipe(P(e)),{initialValue:e(o)});let H=St=>{let W=St?.[e];return W?n?n(W):W:d??null};return A(t.params.pipe(P(H)),{initialValue:H(o)})})}var Rt=e=>[e],$t=e=>({domain:e});function Dt(e,i){if(e&1){let t=w();a(0,"a",15),v("click",function(){h(t);let n=s(3);return b(n.action_reload())}),p()}if(e&2){let t=i.$implicit;s(2);let o=B(0);D("routerLink",q(3,Rt,t.path))("queryParams",q(5,$t,o))("textContent",t.label)}}function kt(e,i){e&1&&m(0,"router-outlet")}function At(e,i){if(e&1){let t=w();a(0,"div",0)(1,"aside",1)(2,"nav",2)(3,"div",3)(4,"a",4),m(5,"strong",5),p()(),a(6,"div",6)(7,"i",7),v("click",function(){h(t);let n=s(2);return b(n.action_reload())}),p()(),a(8,"div",8),Y(9,Dt,1,7,"a",9,X),a(11,"div",10),c(12,"\xA0"),p(),a(13,"button",11),v("click",function(){h(t);let n=s(2);return b(n.action_logout())}),c(14," \u30ED\u30B0\u30A2\u30A6\u30C8 "),p()()()(),a(15,"main",12)(16,"div",13)(17,"span",14),c(18," \u4FDD\u5B58\u4E2D... "),p()(),g(19,kt,1,0,"router-outlet"),p()()}if(e&2){s();let t=B(1),o=s();l(4),D("href",it("https://",t==null?null:t.domain),K),l(),D("textContent",t==null?null:t.name),l(4),Z(o.$menuList()),l(10),_(o.$isView()?19:-1)}}function Vt(e,i){e&1&&m(0,"app-site-list")}function Et(e,i){if(e&1&&(et(0)(1),g(2,At,20,4,"div",0)(3,Vt,1,0,"app-site-list")),e&2){let t,o=s(),n=O(o.$domain());l();let d=O((t=o.siteInfo.$siteMap())==null?null:t[o.$domain()]);l(),_(n&&d?2:3)}}function Nt(e,i){e&1&&(a(0,"div"),c(1,"loading..."),p())}var M=class e{#t=r($);reuseStrategy=r(rt);auth=r(y);siteInfo=r(ut);$isReady=f(!1);$isView=f(!0);$menuList=f([{path:"home",label:"\u30DB\u30FC\u30E0"},{path:"siteList",label:"\u30B5\u30A4\u30C8\u4E00\u89A7"},{path:"castAdd",label:"\u30AD\u30E3\u30B9\u30C8\u8FFD\u52A0"},{path:"castList",label:"\u30AD\u30E3\u30B9\u30C8\u4E00\u89A7"},{path:"castScheduleDatetimeList",label:"\u30B9\u30B1\u30B8\u30E5\u30FC\u30EB"},{path:"infoAdd",label:"\u65B0\u7740\u8FFD\u52A0"},{path:"infoList",label:"\u65B0\u7740\u4E00\u89A7"}]);$domain=dt("domain");constructor(){this.siteInfo.load().pipe(S(this.#t),u(()=>this.$isReady.set(!0)),C(1)).subscribe()}action_reload(){this.$isView.set(!1),setTimeout(()=>this.$isView.set(!0))}action_logout(){this.auth.logout().pipe(S(this.#t)).pipe(C(1)).subscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-layout"]],decls:2,vars:1,consts:[[1,"layout-container","m-0","p-0"],[1,"sidebar","m-0","p-0"],[1,"m-0","p-0"],[1,"bg-primary","text-center","p-1"],["target","_blank",1,"text-white","text-decoration-none",3,"href"],[3,"textContent"],[1,"bg-black","text-center","p-1","text-white"],[1,"fa","fa-refresh","fa-hover","cursor-pointer",3,"click"],[1,"list-group","m-0","p-0","mt-5","rounded-0"],[1,"list-group-item","rounded-0","m-0",3,"routerLink","queryParams","textContent"],[1,"list-group-item"],[1,"btn","btn-danger","rounded-0","m-0",3,"click"],[1,"main-content","m-0","p-0","overflow-y-hidden"],[2,"position","fixed","z-index","9999","pointer-events","none","text-align","center","width","100%"],[1,"badge","text-black",2,"background-color","lightyellow"],[1,"list-group-item","rounded-0","m-0",3,"click","routerLink","queryParams","textContent"]],template:function(t,o){t&1&&g(0,Et,4,3)(1,Nt,2,0,"div"),t&2&&_(o.$isReady()?0:1)},dependencies:[at,pt,ft],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;width:100%;height:100vh}.layout-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:250px 1fr;height:100%;width:100%;overflow:hidden}.sidebar[_ngcontent-%COMP%]{background-color:#f8f9fa;border-right:1px solid #dee2e6;overflow-y:auto;padding:1rem}.main-content[_ngcontent-%COMP%]{background-color:#fff;overflow-y:auto;padding:2rem}']})};function Tt(e,i){e&1&&m(0,"app-layout")}function Wt(e,i){e&1&&m(0,"app-login")}function Pt(e,i){if(e&1&&g(0,Tt,1,0,"app-layout")(1,Wt,1,0,"app-login"),e&2){let t,o=s();_(!((t=o.$session())==null||t.auth==null)&&t.auth.isLogin?0:1)}}function It(e,i){e&1&&(a(0,"div"),c(1,"loading..."),p())}var R=class e{#t=r($);auth=r(y);session=r(k);$domain=G("domain");$session=this.session.$session;$isReady=f(!1);constructor(){this.auth.check().pipe(S(this.#t)).pipe(u(()=>this.$isReady.set(!0))).pipe(C(1)).subscribe()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-component-root"]],decls:2,vars:1,template:function(t,o){t&1&&g(0,Pt,2,1)(1,It,2,0,"div"),t&2&&_(o.$isReady()?0:1)},dependencies:[E,L,M],encapsulation:2})};var T=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=x({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,o){t&1&&m(0,"app-component-root")},dependencies:[R],encapsulation:2})};ot(T,wt).catch(e=>console.error(e));
