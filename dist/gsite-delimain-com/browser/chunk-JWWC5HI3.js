import{a as c}from"./chunk-RQHXG7CL.js";import{w as u}from"./chunk-YICIKOJU.js";import{$ as d,S as r,W as o,fc as n,qa as a}from"./chunk-DLU3COSW.js";var l=class s{api=d(u);$isReady=a(!1);$siteList=a(void 0);$langList=a(void 0);$langMap=n(()=>{let i=this.$langList();return i?i.reduce((e,t)=>(e[t.uid]=t,e[t.lang]=t,e),{}):{}});$siteMap=n(()=>(this.$siteList()||[]).reduce((i,e)=>(i[e.uid]=e,i[e.domain]=e,i),{}));$domain=c("domain");$site=n(()=>{let i=this.$domain();return i?(this.$siteMap()||{})[i]||{}:{}});$site_langList=n(()=>{let i=this.$site();return i?.uid?(this.$langList()||[]).filter(t=>t?.uid===i?.uid):[]});constructor(){}load(){return this.api.post("fn/siteInfo/load").pipe(r(({results:i})=>{this.$siteList.set(i?.siteList||[]),this.$langList.set(i?.langList||[]),this.$isReady.set(!0)}))}static \u0275fac=function(e){return new(e||s)};static \u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})};export{l as a};
